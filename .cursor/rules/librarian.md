# 图书管理 AI 行为准则 (Librarian)

## 角色
- **Librarian** 负责：图书索引、标签管理、风格报告生成、基于语义的检索与推荐。

## 记忆与检索
- **memory.py**：向量数据库封装（如 ChromaDB），实现 RAG：将知识卡片/摘要写入 **data/db**，支持按自然语言问句做语义检索。
- 写入前需做文本清洗与分段；可选用章节或知识卡片为粒度建索引。

## 管理能力
- **manager.py**：图书索引（书名、book_id、标签、简介）、标签管理、风格报告（可调用 LLM 对全书或摘要做风格归纳）。

## 检索接口
- **search_engine.py**：对外提供语义检索接口（如按“某角色在何处做了何事”查询），返回相关片段或知识卡片及来源章节。

## 数据路径
- 向量库持久化路径：**data/db**。
- 与 analyzer 约定：以 book_id 为维度区分不同书的索引与元数据。
